Product: Chrome
Stack Signature: WebCore::V8DOMWrapper::getWrapper(WebCore::Node *)-291771B
New Signature Label: WebCore::V8DOMWrapper::getWrapper(WebCore::Node *)
New Signature Hash: b481ee50_a1607049_4ded6ec1_57e78ce0_f78ca6b2

Report link: http://go/crash/reportdetail?reportid=54b54a48b8604930

Meta information:
Product Name: Chrome
Product Version: 10.0.648.134
Report ID: 54b54a48b8604930
Report Time: 2011/03/19 02:02:45, Sat
Uptime: 372 sec
Cumulative Uptime: 0 sec
OS Name: Windows NT
OS Version: 5.1.2600 Service Pack 3
CPU Architecture: x86
CPU Info: GenuineIntel family 6 model 22 stepping 1


A valrind/memcheck report with similar stack was seen on cross_fuzz: 

==26925== Invalid read of size 8                                                                                                                                                                                                                                                            
==26925==    at 0x14D2B61: WebCore::ScriptWrappable::wrapper() const (third_party/WebKit/Source/WebCore/bindings/v8/ScriptWrappable.h:42)                                                                                                                                                   
==26925==    by 0x14D8E8D: WebCore::V8DOMWrapper::getWrapper(WebCore::Node*) (third_party/WebKit/Source/WebCore/bindings/v8/V8DOMWrapper.h:128)                                                                                                                                             
==26925==    by 0x14E80F8: WebCore::toV8(WebCore::Node*, bool) (out/Release/obj/gen/webkit/bindings/V8Node.h:74)                                                                                                                                                                            
==26925==    by 0x174D6C9: WebCore::toV8(WebCore::CSSStyleSheet*) (third_party/WebKit/Source/WebCore/bindings/v8/custom/V8CSSStyleSheetCustom.cpp:47)                                                                                                                                       
==26925==    by 0x1769D57: WebCore::toV8(WebCore::StyleSheet*) (third_party/WebKit/Source/WebCore/bindings/v8/custom/V8StyleSheetCustom.cpp:45)                                                                                                                                             
==26925==    by 0x15B9BB1: v8::Handle<v8::Value> WebCore::getV8Object<WebCore::StyleSheet>(WebCore::StyleSheet*) (third_party/WebKit/Source/WebCore/bindings/v8/V8Collection.h:49)                                                                                                          
==26925==    by 0x15B9BF4: v8::Handle<v8::Value> WebCore::getIndexedPropertyOfCollection<WebCore::StyleSheetList, WebCore::StyleSheet>(unsigned int, v8::Local<v8::Object>) (third_party/WebKit/Source/WebCore/bindings/v8/V8Collection.h:95)                                               
==26925==    by 0x15B9C1C: v8::Handle<v8::Value> WebCore::collectionIndexedPropertyGetter<WebCore::StyleSheetList, WebCore::StyleSheet>(unsigned int, v8::AccessorInfo const&) (third_party/WebKit/Source/WebCore/bindings/v8/V8Collection.h:101)                                           
==26925==    by 0x1172D22: v8::internal::JSObject::HasElementWithInterceptor(v8::internal::JSObject*, unsigned int) (v8/src/objects.cc:6745)                                                                                                                                                
==26925==    by 0x117DFD8: v8::internal::JSObject::GetPropertyAttributeWithReceiver(v8::internal::JSObject*, v8::internal::String*) (v8/src/objects.cc:2171)                                                                                                                                
==26925==    by 0x10BC528: v8::internal::JSObject::HasProperty(v8::internal::String*) (v8/src/objects.h:1461)                                                                                                                                                                               
==26925==    by 0x11ACA11: v8::internal::Runtime_HasProperty(v8::internal::Arguments) (v8/src/runtime.cc:4068)                                                                                                                                                                              
==26925==    by 0x152E0249: ???                                                                                                                                                                                                                                                             
==26925==    by 0x152F0C37: ???                                                                                                                                                                                                                                                             
==26925==  Address 0x58d6db40 is 32 bytes inside a block of size 144 free'd                                                                                                                                                                                                                 
==26925==    at 0x42F4F8A: operator delete(void*) (/home/kcc/drt/trunk/third_party/valgrind/coregrind/m_replacemalloc/vg_replace_malloc.c:915)                                                                                                                                              
==26925==    by 0x19FA239: WebCore::DOMDataStore::weakNodeCallback(v8::Persistent<v8::Value>, void*) (third_party/WebKit/Source/WebCore/bindings/v8/DOMDataStore.cpp:173)                                                                                                                   
==26925==    by 0x10FB5DB: v8::internal::GlobalHandles::Node::PostGarbageCollectionProcessing() (v8/src/global-handles.cc:191)                                                                                                                                                              
==26925==    by 0x10FB663: v8::internal::GlobalHandles::PostGarbageCollectionProcessing() (v8/src/global-handles.cc:403)                                                                                                                                                                    
==26925==    by 0x1110D13: v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::internal::GCTracer*) (v8/src/heap.cc:777)                                                                                                                                       
==26925==    by 0x1110F4D: v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollector) (v8/src/heap.cc:509)                                                                                                                                           
==26925==    by 0x15301108: ???                                                                                                                                                                                                                                                             


WebCore::DOMDataStore::weakNodeCallback does last deref, but the bug might be somewhere else. (we had somewhat similar issue 70106)